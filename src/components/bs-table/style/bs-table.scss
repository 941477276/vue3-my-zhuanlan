@import "../../../styles/bootstrap-variables";
@import "bootstrap/scss/tables";

.table{
  table-layout: fixed;
  border-spacing: 0;
  margin-bottom: 0;
  thead th{
    border-bottom: none;
    border-top: none;
  }
  &.table-sm{
    font-size: 0.875rem;
  }
}
.bs-table-wrapper{
  //overflow: auto;
  display: flex;
  flex-direction: column;
}
.bs-table-header{
  flex-shrink: 0;
  overflow: hidden;
  .table{
    table-layout: fixed;
    th{
      border-bottom: 1px solid #dee2e6;
    }
  }
}
.bs-table-body{
  flex: 1;
  overflow: auto;
}
.bs-table-cell-fixed-left,
.bs-table-cell-fixed-right {
  position: sticky!important;
  background-color: #fff;
}
.bs-table-cell-fixed-left-last,
.bs-table-cell-fixed-right-first{
  &::before{
    position: absolute;
    top: 0;
    height: 100%;
    width: 2rem;
    content: ' ';
    pointer-events: none;
    transition: box-shadow .2s;
  }
}
.bs-table-cell-fixed-left-last{
  &::before{
    left: 100%;
  }
}
.bs-table-cell-fixed-right-first{
  &::before{
    right: 100%;
  }
}
.bs-table{
  &.table-bordered{
    thead{
      th:first-child{
        border-left: none;
      }
      th:last-child{
        border-right: none;
      }
    }
   tbody{
     tr:last-child{
       td{
         border-bottom: none;
       }
     }
     td:first-child{
       border-left: none;
     }
     td:last-child{
       border-right: none;
     }
   }
  }
  &.bs-table-ping-left{
    .bs-table-cell-fixed-left-last{
      &::before{
        //left: 100%;
        box-shadow: inset 0.625rem 0 0.5rem -0.5rem rgba(0,0,0,0.26);
      }
    }
  }
  &.bs-table-ping-right{
    .bs-table-cell-fixed-right-first{
      &::before{
        //right: 100%;
        box-shadow: inset -0.625rem 0 0.5rem -0.5rem rgba(0,0,0,0.26);
      }
    }
  }
}
.bs-table-header + .bs-table-body{
  tbody tr:first-child{
    td{
      border-top: none;
    }
  }
}
.table-striped{
  tbody{
    tr{
      &:nth-of-type(odd) {
        background-color: #f2f2f2;
        .bs-table-cell-fixed-left,
        .bs-table-cell-fixed-right{
          background-color: #f2f2f2;
        }
      }
      &:hover{
        background-color: #ececec;
        .bs-table-cell-fixed-left,
        .bs-table-cell-fixed-right{
          background-color: #ececec;
        }
      }
    }
  }
}
.table-bordered{
  .bs-table-cell-fixed-left{
    position: relative;
    &::after{ /* 解决边框不显示问题 */
      position: absolute;
      top: 0;
      right: -1px;
      height: 100%;
      width: 1px;
      content: ' ';
      background-color: #dee2e6;
    }
  }
  .bs-table-cell-fixed-right{
    position: relative;
    &::after{ /* 解决边框不显示问题 */
      position: absolute;
      top: 0;
      left: -1px;
      height: 100%;
      width: 1px;
      content: ' ';
      background-color: #dee2e6;
    }
  }
}
